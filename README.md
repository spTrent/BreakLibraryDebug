# Library simulation

## Содержание:

- [Возможности](#возможности)
- [Структура](#структура)
- [Сущности](#сущности)
- [Симуляция](#симуляция)
- [Установка и запуск](#установка-и-запуск)

## Возможности:

- **Управление книгами**: создание, хранение, добавление и удаление книг.
- **Поиск**:
  - По названию (частичное совпадение)
  - По автору (через индекс)
  - По жанру
  - По ISBN (точный поиск)
  - По году выпуска
- **Симуляция**: генерация случайных событий.

## Структура:

```
src/
├── domain/
│   ├── Book.py
│   ├── BookCollection.py
│   ├── IndexDict.py
│   ├── ShelfOfBooks.py
│   └── consts.py
├── use_cases/
│   ├── Library.py
│   └── PaidLibrary.py
└── main.py
```

## Сущности:

- `Book` - базовый класс, описывающий книгу (название, автор, год, жанр, ISBN, стоимость аренды).

- `BookCollection` - обертка над списком (`list`). Реализует методы `add`, `remove`, `__getitem__`, `__iter__`.
- `ShelfOfBooks` - наследник `BookCollection`. Добавляет проверку на максимальную вместимость полки.
- `IndexDict` - структура данных для хранения индексов. Позволяет искать книги по разным ключам (ISBN, автор, год).

- `Library` - Синхронизирует коллекцию книг и индексы.
- `PaidLibrary` - наследник `Library`. Добавляет логику покупки и продажи книг, управление балансом.

## Симуляция:

В модуле `Library` реализован метод `run_simulation()`, который генерирует случайные события:

1. **Добавление книги** - генерация случайной книги и добавление в библиотеку.
2. **Удаление книги** - генерация и удаление.
3. **Поиск** - все методы поиска (`find_on_*`).
4. **Обновление индекса** - обновление индекса.
5. **Изменение жанра** - случайное изменение жанра книги.

## Установка и запуск:
   ```
   git clone https://github.com/spTrent/Library_simulation.git
   cd Library_simulation
   python -m src.main
   ```
